<script>
    import { onMount } from "svelte";
    import { currentDate } from "../../js/utils/timeUtils";
    import moment from "moment-timezone";

    export let ServerConnection;
    export let user;
    export let timezone;
    export let t;

    let filter = "TT";
    let loadMovements = false;
    let movements = [];
    let dateFrom = currentDate();
    let dateTo = currentDate();

    const getMovements = async(type) =>{
        filter = type;
        try {
            loadMovements = true;
            console.log(user.token, dateFrom, dateTo, filter);
            let response = await ServerConnection.users.getMovements(user.token, dateFrom, dateTo, filter);
            response.data.map((m) => { 
                m.hora_reg_timezone = moment(m.lfecha*1000).tz(timezone).format("YYYY-MM-DD HH:mm:ss");
             })
            movements = response.data;
            console.log(movements);
        } catch (error) {
            console.log(error);
        }
        finally{
            loadMovements = false;
        }
    }
    onMount(async() => { getMovements(filter) });
</script>
<div class="movements">
    <span><b>Zona Horaria:</b> {timezone}</span>
    <div class="movements__consult">
        <b>Desde:</b>
        <b>Hasta:</b>
        <input class="ipt" type="date" on:change={()=>getMovements(filter)} bind:value={dateFrom}>
        <input class="ipt" type="date" on:change={()=>getMovements(filter)} bind:value={dateTo}>
    </div>
    <div class="movements__consult--types">
        <button class="btn consult {filter == "TT"?'active':''}" on:click={()=>getMovements('TT')} disabled={loadMovements}>Todos</button>
        <button class="btn consult {filter == "DE"?'active':''}" on:click={()=>getMovements('DE')} disabled={loadMovements}>Depositos</button>
        <button class="btn consult {filter == "RE"?'active':''}" on:click={()=>getMovements('RE')} disabled={loadMovements}>Retiros</button>
        <button class="btn consult {filter == "PR"?'active':''}" on:click={()=>getMovements('PR')} disabled={loadMovements}>Premios</button>
    </div>
    {#if loadMovements}
        <div class="loading"><p></p><p></p><p></p></div>
    {:else}
        {#if !movements.length }
            <b class="movements__empty">{t("movements.noInformation")}</b>
        {:else}
            <div class="movements__result">
                <div class="movements__totals">{movements.length} {t("movements.results")}</div>
                {#each movements as mov}
                    <div class="movements__transaction"> 
                        <div class="betHistory__status {mov.tipo_operacion.includes("REFUND")?mov.opc+"R":mov.opc}">
                            {#if mov.opc === "CAA"}
                                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160.91 170.41"><path d="M57.4,26.68c4.26,9,2.45,16.07-3.77,21.62A44.33,44.33,0,0,1,50.13,51a3.12,3.12,0,0,0-1.27,4,12.17,12.17,0,0,1,0,9.65c-.69,1.67.06,2.89,1.2,4.12,8.84,9.55,17.68,19.11,26.42,28.75,2.18,2.4,3.94,5.18,6.06,7.64.74.84,2,1.22,3,1.82.41.24,1,.42,1.2.79,2.17,3.38,4.28,6.8,6.53,10.39l-1.87,1.56c-4.42,3.57-8.86,7.11-13.23,10.73a7.8,7.8,0,0,0-2.07,2.58,99.28,99.28,0,0,0-4,9.44c-3.18,9.15-8.14,17.44-12.28,26.13-.76,1.59-2.22,1.75-3.77,1.75H12c-1.66,0-3.38.15-4.38-1.62s.06-3,.88-4.42c7.1-11.87,14.53-23.56,21.23-35.65,8.54-15.42,8.35-31.21.2-46.83-4.65-8.93-3.35-17.32,2-25.44a8.92,8.92,0,0,0,1.23-2.12A24.79,24.79,0,0,1,43.93,40.05C49.42,36.61,54,32.51,57.4,26.68ZM46.12,109.09c-2.06,0-3.29,1-3.54,2.54a3,3,0,0,0,2.52,3.51c4.85,1.3,9.49,3.17,13.2,6.58a54.9,54.9,0,0,1,6,7.17c1.13,1.47,2.65,2,4.15,1.22a3,3,0,0,0,1.32-4,16.35,16.35,0,0,0-1.27-2.32c-4.71-7.26-11.62-11.44-19.66-14C47.79,109.49,46.75,109.26,46.12,109.09Z"/><path d="M160.91,81.3c-2,6.47-4,12.7-5.71,19-1.79,6.55-3.26,13.18-4.94,19.76a1.9,1.9,0,0,1-1.31,1.14,11.41,11.41,0,0,1-8.34-2q-8.25-5.84-16.8-11.24c-7.54-4.77-15.15-9.43-23.74-12.61a10,10,0,0,1,.89-1.18q6.6-6.44,13.23-12.84c.29-.29.78-.48.91-.82,1-2.63,3.36-2.35,5.45-2.62,7-.9,13.9,0,20.82,1.09,5.94,1,12,1.45,17.95,2.15Z"/><path d="M91.41,103.63A25.83,25.83,0,0,1,94.52,101a2.69,2.69,0,0,1,2.22-.17c5.67,2.63,11.52,5,16.87,8.15,8.27,4.93,16,10.67,24.31,15.62,3.69,2.22,5.63,5.56,8.13,9-1.5,1-2.83,2.1-4.3,2.94-7.3,4.17-15.28,6.56-23.34,8.7-.44.11-1.33-.52-1.66-1q-8.66-13.73-17.23-27.51Z"/><path d="M7.25,4.58C20.92,8.26,33.36,4.78,45.84,0c.38,3.55.72,7,1.12,10.42.64,5.35,1.36,10.68,1.94,16a3.42,3.42,0,0,1-.74,2.48,24.63,24.63,0,0,1-4.7,4A40.74,40.74,0,0,0,31.09,44.24C22.48,31.45,13.8,18.89,7.25,4.58Z"/><path d="M109.16,77.54c-8.51,6.48-14.31,15.74-23,22.24-1.36-1.72-2.56-3.16-3.67-4.68a2.25,2.25,0,0,1-.2-1.31c.21-3.63,1.68-6.86,3.36-10a79.57,79.57,0,0,1,12-16.4,1.73,1.73,0,0,1,2.15-.5,11.29,11.29,0,0,1,7.06,6C107.61,74.42,108.34,75.88,109.16,77.54Z"/><path d="M65.71,76.19a21.18,21.18,0,0,0-2.6-2.68c-2.91-2-2.76-4.65-1.74-7.44a52,52,0,0,1,3.37-8C68,52.34,71.52,46.73,75,41.1c1-1.68,2-1.88,3.76-1s3.41,1.65,5.06,2.56A3.05,3.05,0,0,1,84.94,47c-4.22,6.7-8.42,13.42-12.67,20.1-1.26,2-2.64,3.92-4,5.85C67.51,74,66.65,75,65.71,76.19Z"/><path d="M89.19,51.48c2.8,1.25,5.49,2.32,6.2,5.55A5.51,5.51,0,0,1,94,62.41c-6.09,6.35-11.46,13.22-15.1,21.31-.68,1.51-1.24,3.07-1.93,4.8l-7.29-8.09c7.41-7.17,11.27-16.68,16.87-25C87.38,54.12,88.25,52.86,89.19,51.48Z"/><path d="M27.77,50.5c-7.88-5.64-15.24-11-21.87-17.43-4-3.83-4.73-8.76-5.9-14,3.62,1.65,6.93,3.14,10.22,4.69.34.15.57.58.79.92Q19.19,37.1,27.34,49.54A9,9,0,0,1,27.77,50.5Z"/><path d="M65.81,31a22.35,22.35,0,0,1,3.49,2.87,3.44,3.44,0,0,1,.24,4.29c-5.12,7.6-10,15.35-13.36,24-.24-2.24-.55-4.4-.64-6.57,0-.54.57-1.22,1.05-1.63,4.28-3.6,7.66-7.84,8.66-13.43C65.8,37.42,65.64,34.26,65.81,31Z"/><path d="M15.58,49.3l9.2,6.61c-.58,1.35-1.08,2.6-1.66,3.82-.15.3-.57.69-.85.67A37.45,37.45,0,0,1,18.05,60a1.25,1.25,0,0,1-.7-.85C16.76,56,16.22,52.88,15.58,49.3Z"/></svg>
                            {:else if mov.tipo_operacion.includes("REFUND")}
                                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160.91 170.41"><path d="M155.15,154l-2.88-1.23c-6-2.65-12-5.27-18-8a14.27,14.27,0,0,0-6.67-1.23,22.64,22.64,0,0,1-13-2.79,12.93,12.93,0,0,1-6.79-11.58c-.07-9.39,0-18.78,0-28.17,0-3.57,2.51-6.13,5.77-6.08s5.59,2.59,5.62,6.08c0,5.69,0,11.38,0,17.06V120h4.9c0-.45.1-.86.1-1.26,0-6.26,0-12.52,0-18.78,0-5.76-3.5-9.5-9.38-10.05,0-.48-.06-1-.06-1.48q0-17.54,0-35.06c0-4.06,2.64-6.91,6.28-6.92a5.89,5.89,0,0,1,6,5.24q2.69,15.95,5.32,31.92c1.45,8.68,2.85,17.38,4.37,26.05a13.08,13.08,0,0,0,7.55,9.92c3.32,1.63,6.67,3.21,10,4.88a1.87,1.87,0,0,1,.93,1.33c0,9.24,0,18.47,0,27.71A3.9,3.9,0,0,1,155.15,154Z"/><path d="M6.19,141l13.65-7.21q15.75-8.3,31.53-16.56a2,2,0,0,0,1.28-2.16c-.09-1.87,0-3.75,0-5.63s.93-2.91,2.86-2.91q13.37,0,26.74,0c2,0,2.93.94,2.94,3q0,12,0,24.09c0,2-.94,2.95-3,2.95q-13.31,0-26.59,0c-2.05,0-2.94-.92-3-3,0-1.36,0-2.71,0-4.07a2.4,2.4,0,0,0-.11-.43L6.36,141.28Zm55.27-21.9V124h4.83v-4.86ZM76.29,124v-4.87H71.5V124Z"/><path d="M5.62,130.39,20.07,99c-2.46,0-4.68,0-6.9,0s-3.1-.89-3.11-3.15q0-10.64,0-21.27c0-2.25.88-3.12,3.14-3.12q14.39,0,28.77,0c2.25,0,3.14.88,3.14,3.12q0,10.63,0,21.27c0,2.26-.88,3.14-3.11,3.15-2.66,0-5.32.06-8,0a2.72,2.72,0,0,0-2.37,1.11Q19.26,114.85,6.81,129.52c-.3.35-.61.7-.92,1ZM25,82.87H20.19V87.7H25Zm10.05,0H30.19v4.76h4.87Z"/><path d="M96.76,61.46l3.34,6.72c.72,1.44,1.42,2.9,2.17,4.33a2.51,2.51,0,0,1-.41,3.29c-1.09,1-2.25.8-3.42,0C91.81,71.37,85.16,67,78.55,62.5a6,6,0,0,0-3.62-1.07c-4.75.06-9.49,0-14.24,0-3.52,0-5.56-2-5.56-5.51q0-17.07,0-34.12c0-3.42,2-5.44,5.48-5.44H99.73c3.4,0,5.47,2.05,5.47,5.44q0,17.07,0,34.12c0,3.51-2,5.49-5.56,5.51Zm-36.55-5c5.66,0,11.13-.05,16.61,0a5.69,5.69,0,0,1,2.88.88c4.08,2.61,8.09,5.34,12.13,8,.43.29.89.55,1.33.83a44.56,44.56,0,0,0-2.39-5.55c-1.24-2.55-.22-4.2,2.6-4.22,2.23,0,4.45,0,6.73,0V21.5H60.21Z"/><path d="M74.38,50.56l-5.67-5.7L75,39.05,68.8,33.13l5.45-5.41,5.9,6.17L86,27.48,91.51,33l-6,5.88,6.14,5.94-5.4,5.41-5.94-6.08Z"/></svg>
                            {:else if mov.opc === "CWI"}
                                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160.91 170.41"><path d="M15.06,112.48c.39-2.17.67-4.36,1.18-6.5,2.44-10.25,7.42-19.22,14-27.37A58.69,58.69,0,0,1,45.32,64.84a27.11,27.11,0,0,1,9.3-3.7c4.78-.84,9.09.59,13.2,2.82,6.5,3.53,11.69,8.6,16.3,14.29,6.75,8.33,11.85,17.52,14.32,28,1.47,6.28,1.7,12.57-.48,18.74-3.09,8.75-9.63,13.88-18.1,16.85-8.94,3.14-18.22,3.6-27.58,3.16a58.36,58.36,0,0,1-18.93-3.7c-9.14-3.65-15.49-9.83-17.65-19.73-.25-1.16-.43-2.33-.64-3.5Zm46.23,17c0-2.3.07-4.55,0-6.79a1.89,1.89,0,0,1,1.27-2.09A11.44,11.44,0,0,0,57.62,99a3.84,3.84,0,1,1,3.61-4.52c.05.2.08.4.12.62H69c-.32-5.28-3-8.77-7.74-10.81V76.05H53.63v8.23l-1.2.57a11.47,11.47,0,0,0,5,21.77,3.83,3.83,0,0,1,3.8,3.58,3.9,3.9,0,0,1-3.2,4,3.85,3.85,0,0,1-4.3-2.79c-.09-.31-.17-.63-.24-.9h-7.6c.29,4.64,2.35,8,6.41,10.1a1.9,1.9,0,0,1,1.31,2.07c-.1,2.27,0,4.56,0,6.83Z"/><path d="M86.17,68.69c4.58-3.62,9.36-6.73,15.25-7.61,4.56-.69,8.67.71,12.58,2.82,6.67,3.6,12,8.81,16.66,14.66,6.81,8.49,11.94,17.86,14.25,28.61a32.47,32.47,0,0,1-.51,17.38c-2.76,8.37-8.75,13.57-16.71,16.76a59.25,59.25,0,0,1-21.35,3.8c-4.25.06-8.5-.3-12.75-.48a14.64,14.64,0,0,1-1.48-.24l1.23-.93A33.23,33.23,0,0,0,107,118.57c.79-9.38-1.67-18.13-5.43-26.57A83,83,0,0,0,86.91,69.73l-.59-.66A1.66,1.66,0,0,1,86.17,68.69Z"/><path d="M57.47,30.23A18.91,18.91,0,0,1,71.9,37a2.46,2.46,0,0,0,1.8.93,11.12,11.12,0,0,1,9.57,7,10.08,10.08,0,0,1-1.88,11.27c-1.16,1.33-2.6,2.43-3.87,3.68-.59.57-1,.43-1.64,0A38.58,38.58,0,0,0,63.53,54c-6.83-1.79-13.23-.44-19.36,2.72-1.88,1-3.67,2.13-5.46,3.27-.56.36-1,.42-1.44-.05A52.69,52.69,0,0,1,33,55.8c-5.49-6.71-1-16.17,6.77-17.59A7.05,7.05,0,0,0,43.89,36,18.54,18.54,0,0,1,57.47,30.23Z"/><path d="M90.3,56.66a18.85,18.85,0,0,0-2.08-18.52,19.66,19.66,0,0,1,9.25-6.85,19,19,0,0,1,20.81,5.8,2.71,2.71,0,0,0,1.55.82A11.37,11.37,0,0,1,129.55,45a10.07,10.07,0,0,1-1.86,11.28c-1.16,1.34-2.59,2.45-3.87,3.69-.57.55-1,.46-1.64,0a38.4,38.4,0,0,0-12.48-6c-6.32-1.64-12.3-.53-18.1,2.16l-.93.43A1.93,1.93,0,0,1,90.3,56.66Z"/></svg>
                            {:else if mov.opc === "DE"}
                               <svg width="100%" height="100%"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 376.26 374.71"><path d="M272.52,194.55v4.38c0,20.08-.21,40.17.07,60.25.23,16.71-5.48,31.11-16.4,43.35-7.14,8-10.72,16.88-10.31,27.54.19,5.11,0,10.23,0,15.34s-2.12,7.13-7,7.14q-52.57,0-105.15,0c-5,0-7.08-2.1-7.14-7-.07-5.61,0-11.22,0-16.84a32.44,32.44,0,0,0-9.62-23.59c-2.54-2.58-5-5.24-7.6-7.75-8.09-7.81-11.72-17.36-11.67-28.54.09-23.08,0-46.16,0-69.24v-5H83c-10.58,0-16.22-5.58-16.21-16.08q0-52.77.1-105.54c0-1.34,0-2.68,0-4.23H303.05c.07,1.35.19,2.65.19,4q.08,53.15.12,106.29c0,9.79-5.81,15.57-15.57,15.6C282.83,194.57,277.87,194.55,272.52,194.55Zm-134,145.8h95.43c0-2.71.17-5.2,0-7.66-1.26-15.7,4.42-28.75,14.89-40.12a40.15,40.15,0,0,0,9.83-18.26,65.9,65.9,0,0,0,1.85-14c.17-28.33.1-56.65.08-85,0-9.82-5.61-15.87-14.45-15.94-6.62-.05-14.27,4.84-14,15.49.31,12.47,0,24.95,0,37.43,0,8.4-1.24,9.56-9.71,10-16.88.86-30.06,8.19-38.91,22.8a66.58,66.58,0,0,0-8.91,26.75c-.47,3.84-3.14,6.08-6.53,5.71s-5.55-3-5.36-6.84a10.3,10.3,0,0,1,.28-2.22c1.87-6.7,3.17-13.64,5.77-20.05,7.63-18.79,20.84-31.67,41-36.48,3.35-.8,6.78-1.23,10.17-1.83V194.79H109.61v4.65c0,23.33.12,46.67-.07,70a24.49,24.49,0,0,0,6.29,17.09c2.88,3.28,5.86,6.47,9,9.53,9.31,9.17,13.72,20.31,13.69,33.29C138.48,333,138.49,336.54,138.49,340.35Zm82.65-176h-4.63q-48.84,0-97.67.06c-2.78,0-4.44-.46-5.56-3.41-2.48-6.51-7.48-10.67-13.82-13.45a4.6,4.6,0,0,1-2.36-3.35c-.17-12.35-.06-24.7-.16-37.06,0-2.11.69-3,2.63-3.77,6.36-2.4,11.22-6.68,13.6-13.06,1.18-3.16,2.89-3.58,5.8-3.58q65.29.12,130.61.06h4.27c2.37,7.11,6.31,13.42,13.47,15.6,5.86,1.78,6.26,5.12,5.88,9.84-.18,2.23,0,4.49,0,6.73v26.83l-11.64,5.69c3,3.48,5.56,6.34,7.73,8.82,3.14-.76,6.08-1.8,9.1-2.12,4.78-.51,6.74-2.15,6.76-7.07q.09-25.64,0-51.28c0-5-2.21-6.9-7.22-7-7-.09-11.85-4.39-12.66-11.21-.62-5.27-2.34-6.84-7.76-6.84q-73.17,0-146.33,0c-5.45,0-7.07,1.45-7.81,6.81-.9,6.59-4.85,10.47-11.48,11.29-5,.62-6.8,2.49-6.82,7.57q-.07,25.08,0,50.15c0,5.1,1.64,6.78,6.8,7.48,6.39.87,10.5,4.82,11.46,11s2.23,7.21,8.61,7.21q52,0,104,0c1.32,0,2.64-.13,3.83-.19C220.24,172.06,220.65,168.48,221.14,164.3Zm-69.92-38.84c0,19.5,14.36,33.94,34,34.07a34.16,34.16,0,0,0,34.1-33.95c0-18.57-15.61-34.31-34-34.21C165.79,91.49,151.27,106,151.22,125.46Z"/><path d="M315.5,122.14V68.46c2.82,0,5.63.06,8.43,0,4.4-.11,7.12-2.46,7.09-6s-2.72-5.79-7.16-5.94c-1,0-2,0-3,0H49.14c-1.25,0-2.5,0-3.74,0-3.92.28-6.28,2.61-6.2,6.05s2.44,5.68,6.43,5.84c3,.11,5.92,0,9.06,0v53.69H45.46c-6.49,0-13,0-19.47,0-4.92-.06-7-2.19-7.06-7.13q0-45.28,0-90.58c0-5.4,2.26-7.28,8.46-7.28H301q21.15,0,42.29,0c5.89,0,8,2,8,7.79q0,44.73,0,89.46c0,5.67-2,7.71-7.6,7.74C334.41,122.17,325.18,122.14,315.5,122.14Z"/></svg>
                            {:else if mov.opc === "RE"}           
                            <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160.91 170.41"><path d="M59.61,163.59c-.46-1.59-.8-3.17-1.37-4.67a23.57,23.57,0,0,0-17.4-15.34c-1.24-.31-1.81-.63-1.81-2q0-53.77,0-107.55c0-.4.06-.79.1-1.36h82.69v2.16q0,53.07,0,106.14c0,1.72-.47,2.29-2.21,2.75-9.36,2.51-15.36,8.5-17.83,17.94l-.52,2Zm32.26-62.13a13.32,13.32,0,0,0,10.06-5.69c2.28-3.11,3.3-3.83,6.95-4.78a3.21,3.21,0,0,0,2.61-3.38,3.13,3.13,0,0,0-2.59-3.19,8.12,8.12,0,0,0-2.41-.17,2.6,2.6,0,0,1-3.11-2,13.46,13.46,0,0,0-13.69-8.36A13.6,13.6,0,0,0,77.58,84a42,42,0,0,0-.71,4.78,6.83,6.83,0,0,1-6.32,5.82,7,7,0,0,1-7.36-6.51c-.26-3.71,2.6-6.84,6.62-7.25,2.37-.23,3.85-1.69,3.73-3.66s-1.73-3.36-4.11-3.2a13.17,13.17,0,0,0-12,8.5,2.48,2.48,0,0,1-2.8,1.81c-3.6-.08-5.34,1.16-5.27,3.52s1.72,3.42,5.23,3.35c1.44,0,2.23.25,2.83,1.77a13.52,13.52,0,0,0,14,8.53,13.69,13.69,0,0,0,12-10.4c.35-1.42.37-2.93.59-4.39a6.8,6.8,0,0,1,6.31-5.82,6.94,6.94,0,0,1,7.36,6.5c.27,3.72-2.6,6.85-6.62,7.26-2.37.23-3.84,1.68-3.72,3.66S89,101.47,91.87,101.46Z"/><path d="M128.9,73.81V60.11c2.14,0,4.16,0,6.17,0,6.56-.07,10.91-4.4,11-10.91,0-4.31,0-8.62,0-12.94a10.34,10.34,0,0,0-10.12-10.7c-.4,0-.81,0-1.21,0H26.28c-5.84,0-9.89,2.95-11.12,8.06a11.3,11.3,0,0,0-.26,2.6q0,6.57,0,13.14c0,6.28,4.38,10.64,10.68,10.77,2.08,0,4.17,0,6.41,0V73.79c-.57,0-1.09.11-1.61.12q-10.71,0-21.44,0c-3.19,0-4.45-1.24-4.45-4.39q0-26.7,0-53.39c0-3.16,1.26-4.4,4.44-4.4h143c3.29,0,4.52,1.24,4.52,4.53q0,26.6,0,53.19c0,3.19-1.25,4.45-4.39,4.46q-10.71,0-21.43,0C130.08,73.91,129.55,73.85,128.9,73.81Z"/><path d="M32,53.19c-2.37,0-4.59.09-6.8,0A3.33,3.33,0,0,1,21.8,49.6q-.07-6.76,0-13.54a3.28,3.28,0,0,1,3.36-3.55c2.2-.12,4.42,0,6.81,0Z"/><path d="M128.92,53.17V32.56c2.49,0,4.9-.14,7.29,0a3.05,3.05,0,0,1,2.89,3.32q.09,6.87,0,13.74a3.27,3.27,0,0,1-3.23,3.48C133.61,53.28,131.33,53.17,128.92,53.17Z"/><path d="M52.3,163.57H39.2V150.48C45,150.81,51.29,157,52.3,163.57Z"/><path d="M108.62,163.56c.91-6.42,7.15-12.63,13.1-13.11v13.11Z"/></svg>
                            {/if}
                        </div>
                        <div class="movements__data">
                            <div class="movements__id"><b>ID:</b> {mov.id}</div>
                            <div class="movements__info">
                                <b>{t("movements.reference")}:</b>
                                <b>{t("movements.date")}:</b>  
                                <div class="movements__ref"><p>{mov.ref_op}</p><button class="btn icon--copy"></button></div>
                                <div> {mov.hora_reg_timezone}</div>
                                <b>{t("movements.operation")}:</b>
                                <b>{t("movements.amount")}:</b> 
                                <div class={mov.tipo_operacion.includes("REFUND")?mov.opc+"R":mov.opc}>{mov.tipo_operacion}</div> 
                                <div>{mov.monto.toFixed(2)}</div>
                            </div>     
                        </div>
                    </div>
                {/each}
            </div>
        {/if}
    {/if}
</div>